$(function(){function e(e){e.valid()||$("#errorModal").modal()}$.validator.addMethod("filetype",function(e,r,n){var i=e.substring(e.lastIndexOf(".")+1).toLowerCase();return this.optional(r)||-1!=$.inArray(i,n)}),$.validator.addMethod("filesize",function(e,r,n){var i=r.files[0].size,a=1024*n*1024;return this.optional(r)||i<a}),$.validator.addMethod("checkName",function(e,r,n){var i=/^[\w\u4e00-\u9fa5]{4,20}$/g;return this.optional(r)||i.test(e)}),$("#login_form").validate({errorPlacement:function(e,r){$("#errorMesg").html(e)},onsubmit:!0,rules:{email:{required:!0,email:!0},password:{required:!0,maxlength:20,minlength:6}},messages:{email:{required:"请输入电子邮箱",email:"输入正确的电子邮箱"},password:{required:"请输入密码",maxlength:"密码最长20位",minlength:"密码最短6位"}}}),$("#reg_form").validate({errorPlacement:function(e,r){$("#errorMesg").html(e)},onsubmit:!0,rules:{email:{required:!0,email:!0},regpsw:{required:!0,maxlength:20,minlength:6},againpsw:{required:!0,maxlength:20,minlength:6,equalTo:"#regpsw"}},messages:{email:{required:"请输入电子邮箱",email:"请输入正确的电子邮箱"},regpsw:{required:"请输入密码",maxlength:"密码不能超过20位",minlength:"密码不能少于6位"},againpsw:{required:"请确认密码",maxlength:"密码不能超过20位",minlength:"密码不能少于6位",equalTo:"两次密码输入不一致"},agree:{required:"请同意我们的协议"}}}),$("#changepsw").validate({errorPlacement:function(e,r){$("#errorMesg").html(e)},rules:{oldpsw:{required:!0,minlength:6,maxlength:20},newpsw:{required:!0,minlength:6,maxlength:20},againpsw:{required:!0,minlength:6,maxlength:20,equalTo:"#newpsw"}},messages:{oldpsw:{required:"*请填写密码",minlength:"密码不能少于6位",maxlength:"密码不能超过20位"},newpsw:{required:"*请填写密码",minlength:"密码不能少于6位",maxlength:"密码不能超过20位"},againpsw:{required:"*请确认密码",minlength:"密码不能少于6位",maxlength:"密码不能超过20位",equalTo:"两次密码输入不相同"}}}),$("#forget").validate({errorPlacement:function(e,r){$("#errorMesg").html(e)},rules:{email:{email:!0,required:!0}},messages:{email:{email:"请输入正确的电子邮箱",required:"请输入电子邮箱"}}}),$("#resetpswd").validate({errorPlacement:function(e,r){$("#errorMesg").html(e)},rules:{newpsw:{required:!0,minlength:6,maxlength:20},againpsw:{required:!0,minlength:6,maxlength:20,equalTo:"#newpsw"}},messages:{newpsw:{required:"请填写密码",minlength:"密码不能少于6位",maxlength:"密码不能超过20位"},againpsw:{required:"请确认密码",minlength:"密码不能少于6位",maxlength:"密码不能超过20位",equalTo:"两次密码输入不相同"}}}),$("#userinfo").validate({errorPlacement:function(e,r){$("#errorMesg").html(e)},rules:{username:{required:!0,number:!1,checkName:!0},email:{required:!0,email:!0},cellphone:{number:!0},qq:{number:!0}},messages:{username:{required:"请输入您的名字",number:"请输入正确的姓名",checkName:"请输入正确的姓名"},email:{required:"请输入邮箱",email:"请输入正确的邮箱"},cellphone:{number:"请输入正确的手机号码"},qq:{number:"请输入正确的QQ"}}}),$("#username").validate({errorPlacement:function(e,r){$("#errorMesg").html(e)},rules:{username:{required:!0,rangelength:[4,20],checkName:!0}},messages:{username:{required:"请输入用户名",rangelength:"用户名长度4-20",checkName:"请输入正确的用户名"}}}),$("#placeReceipt").validate({errorPlacement:function(e,r){$("#errorMesg").html(e)},rules:{cName:{required:!0,checkName:!0},cellphone:{number:!0,required:!0},address:{required:!0}},messages:{cName:{required:"请输入收货人姓名",checkName:"请输入正确的姓名"},cellphone:{number:"请输入收货人的手机号码",required:"请输入正确的手机号码"},address:{required:"请输入详细地址"}}}),$("#portrait").validate({errorPlacement:function(e,r){$("#errorMesg").html(e)},rules:{portrait_fname:{required:!0,filetype:["jpg","png"]}},messages:{portrait_fname:{required:"请上传你的头像",filetype:"头像格式只能是png,jpg"}}}),$("#companyinfo").validate({errorPlacement:function(e,r){$("#errorMesg").html(e)},rules:{c_name:{required:!0,checkName:!0},c_organacode:{required:!0},c_person:{required:!0,number:!1},c_regtime:{required:!0,dateISO:!0},c_business:{required:!0},c_value:{required:!0,number:!0},c_money:{required:!0,number:!0},c_area:{required:!0},idcard_fname:{required:!0,filetype:["jpg","png"]},license_fname:{required:!0,filetype:["jpg","png"]},cpnylogo_fname:{required:!0,filetype:["jpg","png"]},cpny_fname:{required:!0,filetype:["jpg","png"]},username:{required:!0},email:{required:!0,email:!0}},messages:{c_name:{required:"*请填写公司名称"},c_organacode:{required:"*请填写组织机构代码"},c_person:{required:"*请填写法人姓名",number:"*法人姓名错误"},c_regtime:{required:"*请填写公司注册时间",dateISO:"请输入正确的日期"},c_business:{required:"*请填写公司主营业务"},c_value:{required:"*请填写公司市值",number:"必须为数字"},c_money:{required:"请填写当前净资产",number:"必须为数字"},c_area:{required:"请填写公司详细地址"},idcard_fname:{required:"请上传身份证",filetype:"文件类型必须为jpg,png"},license_fname:{required:"请上传营业执照",filetype:"文件类型必须为jpg,png"},cpnylogo_fname:{required:"请上传公司logo",filetype:"文件类型必须为jpg,png"},cpny_fname:{required:"请上传公司图片",filetype:"文件类型必须为jpg,png"},username:{required:"请填写真实姓名"},email:{required:"请填写邮箱地址",email:"请填写正确的邮箱"}}}),$(".btn-submit").click(function(){e($("form"))})});