<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1, maximum-scale=1" />
    <meta content="telephone=no" name="format-detection" />
    <meta http-equiv="Pragma" content="no-cache">
    <link rel="stylesheet" href="./css/mui.min.css">
    <link rel="stylesheet" type="text/css" href="./css/reset.css">
    <link rel="stylesheet" type="text/css" href="./css/iconfont.css">
    <link rel="stylesheet" type="text/css" href="./css/style.css">
    <title>注册</title>
</head>

<body class="container">
    <header class="top-nav">
        <div class="nav-wrap-left">
            <a href="./user.html">
                <span class="icon-27"></span>
            </a>
        </div>
        <div class="nav-header">
            <h1>注册</h1>
        </div>
    </header>
    <div class="content">
        <form action="" method="post" id="reg_form">
            <dl class="list">
                <dd class="dd-padding kv-line">
                    <input class="input-weak kv-v" placeholder="请输入您的手机号码" type="text" name="cellphone" id="cellphone">
                </dd>
                <dd class="dd-padding kv-line">
                    <input type="number" name="verifiCode" class="kv-v input-weak" id="verifiCode" placeholder="请输入验证码" value="123234">
                    <button type="button" id="getCode" class="btn blue-btn">获取验证码</button>
                </dd>
                <dd class="dd-padding kv-line">
                    <input class="input-weak kv-v" placeholder="请输入密码" type="password" id="regpsw" name="regpsw">
                </dd>
                <dd class="dd-padding kv-line">
                    <input class="input-weak kv-v" placeholder="请确认密码" type="password" name="againpsw">
                </dd>
            </dl>
            <div class="btn-wrapper">
                <button type="submit" class="btn-submit btn red-btn large-btn">立即注册</button>
            </div>
        </form>
    </div>
</body>
<script type="text/javascript" src="./js/flexible.js"></script>
<script type="text/javascript" src="./js/lib/jquery.min.js"></script>
<script type="text/javascript" src="./js/lib/mui.min.js"></script>
<script type="text/javascript" src="./js/lib/jquery.validate.min.js"></script>
<script type="text/javascript" src="./js/lib/messages_zh.min.js"></script>
<script type="text/javascript" src="./js/main.js"></script>
<script type="text/javascript" src="./js/validate.js"></script>
<script type="text/javascript">
function timer(o) {
    if(time == 0){
        o.removeAttribute('disabled');
        o.innerText="获取验证码";
        time = 60;
    }else{
        o.setAttribute("disabled", true);
        o.innerText=time;
        time--;
        setTimeout(function(){
            timer(o);
        }, 1000)
    }

}
var getCode = document.getElementById("getCode");
var cellphone = document.getElementById("cellphone");
var time = 60;
var mobile = /^(((13[0-9]{1})|(15[0-9]{1})|(18[0-9]{1})|(17[0-9]{1}))+\d{8})$/;
getCode.onclick=function(e){
    if (cellphone.value.length == 11 && mobile.test(cellphone.value)) { timer(this); }
    else{ mui.alert("请输入手机号码"); }
}


</script>
</html>
